<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>金融规则知识助手</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- 这里用 CDN 引入 React / ReactDOM / Babel，不用你安装任何东西 -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    }
    body {
      background-color: #020617;
      color: #e5e7eb;
    }
    .app-root {
      display: flex;
      height: 100vh;
    }
    .sidebar {
      width: 260px;
      border-right: 1px solid #1f2937;
      padding: 16px 12px;
      overflow-y: auto;
    }
    .sidebar-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 12px;
    }
    .sidebar-item {
      display: block;
      width: 100%;
      text-align: left;
      padding: 10px 12px;
      margin-bottom: 8px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      background: transparent;
      color: #e5e7eb;
      font-size: 13px;
    }
    .sidebar-item.active {
      background: #111827;
      color: #22c55e;
    }
    .sidebar-item-name {
      font-weight: 600;
      margin-bottom: 4px;
    }
    .sidebar-item-desc {
      font-size: 11px;
      color: #9ca3af;
      line-height: 1.4;
    }
    .middle {
      flex: 1;
      display: flex;
      flex-direction: column;
      border-right: 1px solid #1f2937;
    }
    .dimension-bar {
      padding: 12px 16px;
      border-bottom: 1px solid #1f2937;
    }
    .dimension-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .dimension-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .dimension-tag {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #374151;
      background: transparent;
      color: #d1d5db;
      font-size: 12px;
      cursor: pointer;
    }
    .dimension-tag.active {
      background: #22c55e;
      color: #020617;
    }
    .section-list {
      padding: 12px 16px;
      border-bottom: 1px solid #1f2937;
      flex-shrink: 0;
    }
    .section-list-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .section-empty {
      font-size: 12px;
      color: #9ca3af;
    }
    .section-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .section-tag {
      padding: 6px 10px;
      border-radius: 8px;
      border: 1px solid #374151;
      background: transparent;
      color: #e5e7eb;
      font-size: 12px;
      cursor: pointer;
    }
    .section-tag.active {
      background: #0f172a;
      color: #22c55e;
    }
    .content {
      width: 480px;
      padding: 16px 18px;
      overflow-y: auto;
    }
    .content-breadcrumb {
      font-size: 12px;
      color: #9ca3af;
      margin-bottom: 6px;
    }
    .content-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 8px;
      color: #f9fafb;
    }
    .content-tags {
      margin-bottom: 8px;
    }
    .content-tag {
      display: inline-block;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid #374151;
      color: #9ca3af;
      margin-right: 4px;
      margin-bottom: 4px;
    }
    .content-summary {
      font-size: 12px;
      color: #9ca3af;
      margin-bottom: 10px;
      line-height: 1.5;
    }
    .content-body {
      white-space: pre-wrap;
      font-size: 13px;
      line-height: 1.7;
      color: #e5e7eb;
    }
    .content-placeholder {
      font-size: 13px;
      color: #9ca3af;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo } = React;

    const SECTION_LABELS = {
      overview: "产品定位与定义",
      mechanism: "运作机制",
      yield: "收益结构",
      interest: "计息规则",
      redeem: "赎回规则",
      risk: "风险披露",
      scenario: "典型场景",
      formula: "公式与示例",
      faq: "常见问题"
    };

    const products = [
      {
        id: "simple_earn_flex",
        name: "简单赚币（活期）",
        category: "赚币产品",
        description:
          "把用户的闲置资金集中到出借资金池，平台撮合给有借币需求的用户，用借币利息为出借人创造收益。",
        tags: ["低风险理财", "按小时计息", "可随时赎回", "风险准备金 15%"],
        sections: [
          {
            id: "simple_earn_flex_overview",
            type: "overview",
            title: "产品定位与适用人群",
            content: [
              "简单赚币（活期）是平台的基础型“借贷撮合类”理财产品。",
              "",
              "核心定位：",
              "1. 帮助用户把闲置币种出借给有借币需求的交易者，赚取借币利息；",
              "2. 在不需要用户主动选对手方、风控模型的前提下，由平台统一撮合与风险管理；",
              "3. 风险等级低于主动交易，高于“单纯持币不动”。",
              "",
              "适用人群：",
              "- 有中短期闲置资金，希望获取额外收益；",
              "- 对交易不熟悉，但愿意承担一定市场与对手方风险；",
              "- 不追求精确择时，只希望“闲钱别躺着”。"
            ].join("\\n")
          },
          {
            id: "simple_earn_flex_mechanism",
            type: "mechanism",
            title: "运作机制与资金流向",
            content: [
              "1. 资金来源：",
              "   - 用户在简单赚币页面选择币种与金额，提交“出借委托”；",
              "   - 资金从资金账户或交易账户划入出借池。",
              "",
              "2. 资金流向：",
              "   - 平台将出借池资金按需撮合给有借币需求的用户（包括合约交易、杠杆交易等场景）；",
              "   - 借币用户按照“借币年化利率”支付利息；",
              "   - 平台从利息中提取固定比例作为风险准备金，其余按比例分配给出借人。",
              "",
              "3. 风险准备金机制：",
              "   - 平台会从借币利息中提取约 15% 作为风险准备金；",
              "   - 用于覆盖极端行情下，借币方保证金不足时的潜在损失；",
              "   - 出借用户实际到手为“借币利息 × 85% 左右”。"
            ].join("\\n")
          },
          {
            id: "simple_earn_flex_yield",
            type: "yield",
            title: "收益结构与年化含义",
            content: [
              "1. 收益来源：",
              "   - 纯粹来自借币用户支付的利息，不包含做市、衍生品等额外风险敞口；",
              "   - 不同币种的借币需求不同，导致年化差异较大。",
              "",
              "2. 年化收益展示：",
              "   - 页面展示的“参考年化”属于滚动历史数据或当前时刻的折算值；",
              "   - 不是承诺收益，未来实际收益可能高于或低于参考值；",
              "   - 对于稳定币出借，平台会将所有合格出借订单聚合，按统一年化进行收益分配。",
              "",
              "3. 收益拆分：",
              "   - 用户看到的到手收益 = 借币利息 × (1 - 风险准备金比例)；",
              "   - 风险准备金比例目前约为 15%，实际以产品规则为准。"
            ].join("\\n")
          },
          {
            id: "simple_earn_flex_interest",
            type: "interest",
            title: "计息规则与边界条件",
            content: [
              "1. 计息起点：",
              "   - 只有当资金被成功出借（状态为“赚币中”）后，才开始计息；",
              "   - “待出借”状态不计息。",
              "",
              "2. 计息方式：",
              "   - 以小时为单位进行收益计算；",
              "   - 每个计息小时，系统会截取该小时内的出借余额与对应年化。",
              "",
              "3. 通用计息公式（示意）：",
              "   - 每小时收益 = 出借余额 × 实际年化 / 365 / 24 × (1 - 风险准备金比例)；",
              "   - 其中风险准备金比例目前约为 15%。",
              "",
              "4. 计息终止：",
              "   - 用户发起赎回申请并进入“赎回中”状态后，通常不再产生新收益；",
              "   - 实际到账时间受资金池流动性影响，在极端行情下可能略有延迟。"
            ].join("\\n")
          },
          {
            id: "simple_earn_flex_redeem",
            type: "redeem",
            title: "赎回规则与流动性约束",
            content: [
              "1. 正常赎回：",
              "   - 绝大多数时间，用户可以随时提交赎回申请；",
              "   - 资金会在短时间内回到账户，具体时效视币种与资金池情况而定。",
              "",
              "2. 流动性约束：",
              "   - 当某一币种的出借资金大部分已经被借出，而借币方尚未归还时，赎回可能受到限制；",
              "   - 平台可能采取“限额赎回”、“分批赎回”等措施，以保障总体资金安全与可持续性。",
              "",
              "3. 极端情形：",
              "   - 极端行情下，如大量借币用户同时爆仓、资金池出现阶段性缺口，赎回时效可能明显延长；",
              "   - 此类情况通常会通过公告、帮助中心、弹窗提示等方式提前或同步说明。"
            ].join("\\n")
          },
          {
            id: "simple_earn_flex_risk",
            type: "risk",
            title: "风险披露与适当性提示",
            content: [
              "简单赚币（活期）虽为相对稳健产品，但仍然存在以下风险：",
              "",
              "1. 对手方风险：",
              "   - 借币用户在极端行情下可能出现保证金不足、清算不及时等情况；",
              "   - 风险准备金无法完全覆盖时，极端情况下可能对出借本金产生影响。",
              "",
              "2. 流动性风险：",
              "   - 市场某一币种借币需求突然大幅上升时，资金会高度“闲置利用”，导致赎回速度下降；",
              "   - 反之，借币需求不足时，出借资金可能长时间处于“待出借”状态，收益趋近于 0。",
              "",
              "3. 市场利率风险：",
              "   - 借币年化受市场供需影响，可能快速上升或下降；",
              "   - 历史年化不代表未来表现。",
              "",
              "4. 使用建议：",
              "   - 不建议将全部资产集中在单一币种或单一产品；",
              "   - 对风险极度厌恶、完全不接受本金波动的用户，应充分了解上述风险后再决定是否参与。"
            ].join("\\n")
          },
          {
            id: "simple_earn_flex_scenario",
            type: "scenario",
            title: "典型用户问题与专业解读",
            content: [
              "场景 1：用户反馈“收益突然变 0”",
              "",
              "专业解读：",
              "- 检查资金是否仍处于“赚币中”状态；",
              "- 若状态为“待出借”，说明近期借币需求不足，资金尚未再次被撮合；",
              "- 若状态为“赎回中”，则已经不再产生收益，只等待资金回到账户。",
              "",
              "场景 2：用户质疑“设置了 1% 年化却长时间借不出去”",
              "",
              "专业解读：",
              "- 实际是否出借，取决于市场借币需求与资金池整体供需，而非单个用户设置的下限；",
              "- 即便设置的最低年化较低，当总体出借资金远大于借币需求时，也会出现排队与长时间待出借的情况；",
              "- 可以引导用户结合历史借币数据、市场行情综合判断，不宜单纯以“设了 1% 就一定秒出借”来理解。"
            ].join("\\n")
          },
          {
            id: "simple_earn_flex_formula",
            type: "formula",
            title: "收益计算示例（带入实际数字）",
            content: [
              "【示例参数】",
              "- 出借金额：5,000 USDT；",
              "- 市场借币年化：3.8%；",
              "- 风险准备金比例：15%；",
              "- 当日有 20 小时处于“赚币中”状态，剩余时间为“待出借”。",
              "",
              "1. 每小时理论收益：",
              "   每小时收益 = 5,000 × 3.8% / 365 / 24 × 0.85",
              "                 ≈ 0.0202 USDT/小时。",
              "",
              "2. 当日实际收益：",
              "   当日收益 ≈ 0.0202 × 20 ≈ 0.404 USDT。",
              "",
              "3. 关键观察点：",
              "- 有效计息小时数是决定实际收益的关键；",
              "- 市场越活跃、借币需求越足，出借资金“空仓时间”越少，总收益越接近“年化 × 本金”的理论值。"
            ].join("\\n")
          }
        ]
      },
      {
        id: "simple_earn_fixed",
        name: "简单赚币（定期）",
        category: "赚币产品",
        description:
          "目前主要为 USDT 90 天期，采用固定年化与锁定期模式，匹配借贷需求后开始计息。",
        tags: ["USDT 90 天", "固定年化", "不可随意赎回"],
        sections: [
          {
            id: "simple_earn_fixed_overview",
            type: "overview",
            title: "产品定位与与活期的差异",
            content:
              "简单赚币（定期）以锁定期限换取更稳定的参考年化。与活期相比，资金流动性更差，但收益可预期性更好，适合对流动性要求不高的用户。"
          },
          {
            id: "simple_earn_fixed_risk",
            type: "risk",
            title: "锁定与提前赎回风险提示",
            content:
              "锁定期内原则上不支持赎回，仅在资金仍未出借的阶段可以取消。匹配成功后，需承担锁定期内的市场利率变化与借款方相关风险。"
          }
        ]
      },
      {
        id: "dual_invest",
        name: "双币赢（高卖 / 低买）",
        category: "结构化产品",
        description:
          "将“挂单买卖 + 收益增强”组合在一起的结构化产品，通过设定目标价与期限，在到期时根据标的价格决定结算币种与收益。",
        tags: ["结构化", "高卖策略", "低买策略", "到期结算"],
        sections: [
          {
            id: "dual_invest_overview",
            type: "overview",
            title: "产品定位与适用策略",
            content:
              "双币赢适合“本来就想在某个价位买入或卖出”的用户，通过结构化设计，在等待成交的过程中额外获得收益，而不是单纯挂限价单。"
          },
          {
            id: "dual_invest_mechanism",
            type: "mechanism",
            title: "高卖 / 低买的结算逻辑",
            content:
              "高卖：用标的币申购，到期价格≥目标价则按目标价卖出换成计价币，否则继续持有标的币并获得收益。\\n低买：用计价币申购，到期价格≤目标价则按目标价买入标的币，否则继续持有计价币并获得收益。"
          },
          {
            id: "dual_invest_risk",
            type: "risk",
            title: "价格偏离风险与机会成本",
            content:
              "主要风险不在于“产品是否安全”，而在于到期时标的价格是否显著偏离目标价。如果高卖后价格继续大涨，或低买后价格继续大跌，都会产生明显的机会成本或浮动亏损。"
          }
        ]
      },
      {
        id: "lending",
        name: "活期借币",
        category: "借币与杠杆",
        description:
          "以质押物为基础，按小时计息灵活借入目标币种，可用于杠杆交易、合约交易或短期资金需求。",
        tags: ["按小时计息", "可随时归还", "支持质押物还款"],
        sections: [
          {
            id: "lending_overview",
            type: "overview",
            title: "借币产品整体介绍",
            content:
              "活期借币允许用户在不卖出现有资产的前提下，通过质押其他币种换取流动性，按小时计息，无固定到期日，可随时归还。"
          },
          {
            id: "lending_interest",
            type: "interest",
            title: "复利计息与利率来源",
            content:
              "采用小时复利计息模式：每小时利息会并入本金，下一小时以新的余额为基数计息。利率由市场供需、风险水平、币种特性等因素决定。"
          },
          {
            id: "lending_risk",
            type: "risk",
            title: "质押品波动与强平风险",
            content:
              "质押物价值若因市场波动大幅下降，可能触及保证金维护比例，触发强平或部分资产被动平仓。用户应持续关注质押率与风险提示。"
          }
        ]
      }
    ];

    function FinancialRulesApp() {
      const [selectedProductId, setSelectedProductId] = useState(
        products[0] ? products[0].id : ""
      );
      const [selectedSectionType, setSelectedSectionType] = useState("overview");
      const [selectedSectionId, setSelectedSectionId] = useState(null);

      const selectedProduct = useMemo(
        () => products.find((p) => p.id === selectedProductId),
        [selectedProductId]
      );

      const availableSectionTypes = useMemo(() => {
        if (!selectedProduct) return [];
        const set = new Set();
        selectedProduct.sections.forEach((s) => set.add(s.type));
        return Array.from(set);
      }, [selectedProduct]);

      const sectionsOfSelectedType = useMemo(() => {
        if (!selectedProduct) return [];
        return selectedProduct.sections.filter(
          (s) => s.type === selectedSectionType
        );
      }, [selectedProduct, selectedSectionType]);

      const activeSection = useMemo(() => {
        if (!sectionsOfSelectedType.length) return null;
        if (selectedSectionId) {
          const found = sectionsOfSelectedType.find(
            (s) => s.id === selectedSectionId
          );
          if (found) return found;
        }
        return sectionsOfSelectedType[0];
      }, [sectionsOfSelectedType, selectedSectionId]);

      const handleSelectProduct = (id) => {
        setSelectedProductId(id);
        const prod = products.find((p) => p.id === id);
        if (prod && prod.sections.length > 0) {
          setSelectedSectionType(prod.sections[0].type);
        } else {
          setSelectedSectionType("overview");
        }
        setSelectedSectionId(null);
      };

      return (
        <div className="app-root">
          <aside className="sidebar">
            <h2 className="sidebar-title">金融产品目录</h2>
            {products.map((p) => {
              const isActive = p.id === selectedProductId;
              return (
                <button
                  key={p.id}
                  className={
                    "sidebar-item" + (isActive ? " active" : "")
                  }
                  onClick={() => handleSelectProduct(p.id)}
                >
                  <div className="sidebar-item-name">{p.name}</div>
                  <div className="sidebar-item-desc">{p.description}</div>
                </button>
              );
            })}
          </aside>

          <main className="middle">
            <section className="dimension-bar">
              <div className="dimension-title">知识维度</div>
              <div className="dimension-tags">
                {availableSectionTypes.map((t) => {
                  const active = t === selectedSectionType;
                  return (
                    <button
                      key={t}
                      className={
                        "dimension-tag" + (active ? " active" : "")
                      }
                      onClick={() => {
                        setSelectedSectionType(t);
                        setSelectedSectionId(null);
                      }}
                    >
                      {SECTION_LABELS[t]}
                    </button>
                  );
                })}
              </div>
            </section>

            <section className="section-list">
              <div className="section-list-title">本维度下的小节</div>
              {!sectionsOfSelectedType.length && (
                <div className="section-empty">
                  当前产品暂无该维度的内容，可以稍后在数据中补充。
                </div>
              )}
              <div className="section-tags">
                {sectionsOfSelectedType.map((s) => {
                  const active = activeSection && s.id === activeSection.id;
                  return (
                    <button
                      key={s.id}
                      className={
                        "section-tag" + (active ? " active" : "")
                      }
                      onClick={() => setSelectedSectionId(s.id)}
                    >
                      {s.title}
                    </button>
                  );
                })}
              </div>
            </section>
          </main>

          <section className="content">
            {selectedProduct && activeSection ? (
              <>
                <div className="content-breadcrumb">
                  {selectedProduct.category} ·{" "}
                  {SECTION_LABELS[activeSection.type]}
                </div>
                <h1 className="content-title">
                  {selectedProduct.name} - {activeSection.title}
                </h1>
                <div className="content-tags">
                  {selectedProduct.tags.map((tag) => (
                    <span key={tag} className="content-tag">
                      {tag}
                    </span>
                  ))}
                </div>
                {activeSection.summary && (
                  <p className="content-summary">
                    {activeSection.summary}
                  </p>
                )}
                <pre className="content-body">
{activeSection.content}
                </pre>
              </>
            ) : (
              <div className="content-placeholder">
                请选择左侧产品和中间维度查看详细内容。
              </div>
            )}
          </section>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<FinancialRulesApp />);
  </script>
</body>
</html>
